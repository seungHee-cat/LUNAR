<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="project.kr.board.mapper.BoardMapper">

    <!-- 게시글 리스트 조회 -->
    <select id="getBoardList" resultType="BoardVO" parameterType="BoardVO">
        <![CDATA[
        /*	getBoardList	*/
        SELECT
            BOARD_ID
            , TITLE
            , WRT_TIME
        FROM
            BOARD
        ORDER BY
            WRT_TIME DESC
        ]]>
    </select>

    <!-- 게시글 상세 페이지 조회 -->
    <select id="getBoardDetail" resultType="BoardVO" parameterType="BoardVO">
        <![CDATA[
        /*	getBoardDetail	*/
        SELECT
            BOARD_ID
            , TITLE
            , CONTENT
        FROM
            BOARD
        ]]>
        <where>
            <if test="boardId != null and boardId != ''">
                AND BOARD_ID = #{boardId}
            </if>
        </where>
    </select>


    <!-- 게시글 작성 -->
    <insert id="insertBoardPost" parameterType="BoardVO">
        <![CDATA[
        /*	insertBoardPost	*/
        INSERT INTO BOARD
        (
            TITLE
            , CONTENT
            , USR_ID
        ) VALUES(
            #{title}
            , #{content}
            , #{usrId}
        )
    ]]>
    </insert>


    <!-- 게시글 수정 -->
    <insert id="updateBoardPost" parameterType="BoardVO">
        <![CDATA[
        /*	updateBoardPost	*/
        UPDATE
            BOARD
        SET
            TITLE = #{title}
            , CONTENT = #{content}
        WHERE
            BOARD_ID = #{boardId}
    ]]>
    </insert>

    <!-- 게시글 삭제 -->
    <delete id="deleteBoard" parameterType="BoardVO">
        <![CDATA[
        /*	deleteBoard	*/
        DELETE FROM
            BOARD
        WHERE
            BOARD_ID = #{boardId}
        ]]>
    </delete>

</mapper>